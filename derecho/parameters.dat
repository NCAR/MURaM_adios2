procs = 6 4 4

# Grid parameters
NDIM    = 3     |
gxmin   = 0 0 0 | Left corner
gxmax   = 110.592e8  196.608e8  196.608e8 | Right corner
gsize   = 1728 1024 1024 | Global size
pardim  = 1 1 1 | Parallel dimensions
periods = 0 1 1 | Periodic boundaries

# Run parameters
#
anlfreq   = 200   	| Analysis frequency
backfreq  = 200   	| Backup frequency
slicefreq = 200 	| Slice dump frequency
outcad    = 0		| Save with a constant output cadence in seconds, 0 = off. 
resfreq   = 200       | Result dump frequency
Tmax      = 2000000.	| Maximum run time
maxiter   = 61092    	| Max number of iterations
CFL       = 1.8		| CFL number
CFL_tvd   = 1.0
maxWtime  =-21300.0	| pos. value -> write last output and continue
			| neg. value -> write last output and terminate
verbose   = 4 

#BIFROST TABLES EOS
eos_name = freeeos_asplund09.dat 
kap_name = kappa_grey_ref500.dat

# Optional IO parameters
path_3D = 3D/ 
path_2D = 2D/ 

# Other Outputs, save 3D cubes of
#             Tem Pre  ne rhoi amb Qrt Tau Jtot Stot Qcor QH QMg QCa QCro
eos_output =   1   1   0   0    0   1   1   0    0    1    0  0   0   0  

# A switch for diagnostic saves, saves various things to TVAR's (below)
diagnostics = 1 

# Diagnostics output:
#      TVAR    1  2  3  4  5  6  7  8  Qres  Qvis Qamb
diag_output =  0  0  0  0  0  0  0  0   1     1    0

# Save DEM/HAVG/RT_HAVG outputs
DEM = 1 
HAVG = 1 
RT_HAVG = 0 

# Adios2 enable/disable
enable_adios2 = 1               |enable adios2 IO
enable_adios2_double = 0        |enable double precision output

# Physics parameters
param_gravity   = 2.74e4	| gravity
param_va_max    = 8e7		| valf_max
param_va_adjust = 1
param_max_fill  = 1000.
param_spitzer   = 1e-6 
param_ambipolar = 0e10 
param_ambfac_max= 1e12
param_velamb_max= 1e7

# Boundary Parameters
bnd_top     = 0		| (0) closed, (1) half open (outflows/no inflows)
bnd_pot     = 2		| (0) vertical field, (1) potential field
			| (2) recompute pot. field only for full time step
bnd_bcrit   = 2.5e3	| bottom bnd v=0 for B>Bcrit (Gauss)
bnd_eps_top = 0e14	| hot plate at top

# TVD limiter general seetings
tvd_h      = 2.0   2.0	 1.25   0.0   | h-parameter (rho,V,eps,B)
tvd_cs     = 0.2   0.2   0.2    1.0   | sound speed contribution to diffusivity 
tvd_rholev = 1.0e-11	| switch to tvd_lim_lb for rho<rholev
tvd_rholog = 1 		| reconstruct ln(rho) (less mass diffusion)
tvd_qrho   = 10         | max density variation between gridpoints
tvd_Bpar   = 0.2	| reduction of field aligned mag. diffusivity

tvd_vhyp       = 1.0
tvd_Qdiff_bnd  = 0.0;
tvd_pm_v       = 1.0;
tvd_pm_B       = 4.0;
tvd_vmax_lim   = 0.75;
tvd_CME_thresh = 0.5;

# TVD boundary diffusivities
# Allowed range for tvd_visc_bnd and tvd_eta_bnd is [0,2]
# Values [0,1] coefficients similar to tvd_coeff
# Values [1,2] coeff=1 + further enhancement through reduction of
# reconstruction slope (slope=0 for value of 2)
tvd_h_bnd    = 0.01   0.01	| width of boundary layers (bottom, top)
tvd_visc_bnd = 1.0    1.0   	| visc coeff in boundary layers
tvd_eta_bnd  = 1.0    1.0   	| eta coeff in boundary layers

# TVD coefficients for mhd variables (rho,V,eps,B). Allowed value range [0,1]
tvd_coeff    = 1.0 1.0 1.0 1.0 

# divB cleaning
divB_switch =  1	| divB cleaning off (0) on (1) 
divB_itmax  =  5	| max interations
divB_err    =  0.2	| rel reduction of initial error
				
# Tcheck
tchk_eps_min = 1e12	| min eps value
tchk_rho_min = 1.0e-18	| min rho value
tchk_eps_max = 2e17	| max eps value (only where emag>eint)
tchk_vmax    = 6e8	| max allowed velocity

# Damp box mode
dmp_switch  = 1 	| damping off (0) on (1)
dmp_tau_ref = 1.0e3	| damping time scale for v=vel_ref
dmp_vel_ref = 1.0e3	|
dmp_tau_min = 1.0e2	| shortest allowed damping time scale

# RT
rt_type    = 0		| RT module, 0 = standard LTE, 1 = scattering
rt_update  = 4		| update frequency (iterations) for RT
rt_cfl     = 0.5	| safety factor for RT timestep
rt_tstep   = 4		| (0) dt adjusted (>0) Qtot limited if dt_rad<rt_tstep*dt_mhd
rt_epsilon = 0.0	| Value of epsilon in the case of constant photon destruction probability
                        | Set to 0 for variable photon destruction probability.
rt_tau_min = 1.0e-8     | Minimum Tau
rt_tr_tem  = 2e4        
rt_tr_pre  = 1e6
rt_pre_cut = 1e2
rt_iout    = 1

# Damiens Switch for chromospheric extension, eventually we will have three extension options here.
ext_hlines  = 0         | heating and cooling from hydrogen lines.
ext_mglines = 0         | heating and cooling from magnesium lines.
ext_calines = 0         | heating and cooling from calcium lines.
ext_chr     = 0         | Chromospheric back heating from the corona.
ext_cor     = 1         | Optically thing coronal losses.

# Slice control
sl_collect = 0		| (0) separate files (1) collect into one file 
sl_I_out   = 1		| separate output of I_out
sl_tau     = 6		| number of tau slices
sl_xz      = 1		| number of xz slices
sl_xy      = 1		| number of xy slices
sl_yz      = 11		| number of yz slices

# Slice levels (maximum 10)
tau_lev    = 1.0 0.1 0.01 0.001 1e-4 1e-6
xz_lev     = 512
xy_lev     = 512 
yz_lev     = 0 58 116 132 148 180 244 372 628 1140 1652

# Slice variables (tau: position of tau level)
#          rho vx  vy  vz  eps bx  by  bz  |v| |B| T  P   fs  tau 
tau_var =  1   1   1   1   1   1   1   1    0   0  1  1   1   1    
xz_var  =  1   1   1   1   1   1   1   1    0   0  1  1    
xy_var  =  1   1   1   1   1   1   1   1    0   0  1  1 
yz_var  =  1   1   1   1   1   1   1   1    0   0  1  1   1
